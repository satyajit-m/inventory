 <% flash.each do |key, value| %>
  <div class="alert alert-<%= key %> alert-dismissible" role="alert">
    <p class="text-<%= key %>"><%= value %></p>
  </div>
<% end %>
<h1>Items</h1>
<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th scope="col">Id</th>
      <th scope="col">Name</th>
      <th scope="col">Brand</th>
      <th scope="col">Category</th>
      <th scope="col">Status</th>
      <th scope="col">Assign User</th>
      <th scope="col">Associated User</th>
      <th scope="col">Show</th>
      <th scope="col">Edit</th>
      <th scope="col">Delete</th>
    </tr>
  </thead>
  <tbody>
    <% @items.each do |item| %>
      <tr>
        <td><%= item.id %></td>
        <td><%= item.name %></td>
        <td><%= item.brand.name %></td>
        <td><%= item.category.name %></td>
        <td><%= item.status %></td>
        <td><% if item.storage.present? %>
            <%= link_to fa_icon("user-plus"), assign_item_path(item), class: "btn btn-info" %>
          <%end%></td>
        <td>
          <ul><% item.users.each do |user| %>
              <li><%= user.name %></li>
            <% end %></ul>
        </td>
        <td><%= link_to fa_icon("eye"), item, class: "btn btn-primary" %></td>
        <td><%= link_to fa_icon("edit"), edit_item_path(item), class: "btn btn-secondary" %></td>
        <td><%=button_to(item, method: :delete, class: "btn btn-danger") do  %>
            <i class="fa fa-trash" aria-hidden="true"></i>
          </td>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
<br>
<%= link_to "New Item", new_item_path %>
